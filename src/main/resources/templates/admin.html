<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Fit4Life</title>
    <meta
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
      name="viewport"
    />
    <link
      rel="logo-icon"
      href="https://res.cloudinary.com/deup6t83x/image/upload/v1721236251/logo_pctu2u.png"
      type="image/x-icon"
    />

    <!-- Fonts and icons -->
    <script src="Admin/assets/js/plugin/webfont/webfont.min.js"></script>
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
       

    <!-- CSS Files -->
  <!-- CSS Files -->
<link rel="stylesheet" href="/Admin/assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="/Admin/assets/css/plugins.min.css" />
<link rel="stylesheet" href="/Admin/assets/css/kaiadmin.min.css" />

<!-- Fonts or Additional CSS -->
<link rel="stylesheet" href="/Admin/assets/css/fonts.css" />

<style>
body {
  margin: 0;
  padding: 0;
  min-height: 100vh; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
}

.content {
  background-color: rgba(255, 255, 255, 0.8); 
  padding: 30px;
  border-radius: 10px;
  text-align: center;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
}

h1 {
  font-size: 3rem;
  font-weight: bold;
}

p {
  font-size: 1.2rem;
  margin-top: 20px;
}

/* Responsive design adjustments */
@media (max-width: 768px) {
  h1 {
    font-size: 2.5rem;
  }

  p {
    font-size: 1rem;
  }
}

     
      /*admin banner CSS*/
      .chart-image {
        width: 100%;
        height: auto; 
        object-fit: contain;
      }
    
      /* Responsive handling for smaller devices */
      @media (max-width: 768px) {
        .chart-image {
          object-fit: contain; 
        }
      }
    </style>
      
      <script>
        WebFont.load({
          google: { families: ["Public Sans:300,400,500,600,700"] },
          custom: {
            families: [
              "Font Awesome 5 Solid",
              "Font Awesome 5 Regular",
              "Font Awesome 5 Brands",
              "simple-line-icons",
            ],
            urls: ["Admin/assets/css/fonts.min.css"],
          },
          active: function () {
            sessionStorage.fonts = true;
          },
        });
      </script>


  </head>
  <body>
    <div class="wrapper">
      <!-- Sidebar -->
      <div class="sidebar" data-background-color="dark">
        <div class="sidebar-logo">
          <!-- Logo Header -->
          <div class="logo-header" data-background-color="dark">
            <a href="#" class="logo">
              <img
                src="https://res.cloudinary.com/deup6t83x/image/upload/v1721236251/logo_pctu2u.png"
                alt="navbar brand"
                class="navbar-brand"
                height="65"
              />
            </a>
            <div class="nav-toggle">
              <button class="btn btn-toggle toggle-sidebar">
                <i class="gg-menu-right"></i>
              </button>
              <button class="btn btn-toggle sidenav-toggler">
                <i class="gg-menu-left"></i>
              </button>
            </div>
            <button class="topbar-toggler more">
              <i class="gg-more-vertical-alt"></i>
            </button>
          </div>
          <!-- End Logo Header -->
        </div>
        <div class="sidebar-wrapper scrollbar scrollbar-inner">
          <div class="sidebar-content">
            <ul class="nav nav-secondary">
              <li class="nav-item active">
                <a
                  data-bs-toggle="collapse"
                  href="#dashboard"
                  class="collapsed"
                  aria-expanded="false"
                >
                  <i class="fas fa-home"></i>
                  <p>Dashboard</p>
              </a>
              </li>
              
              <li class="nav-item ">
                <a data-bs-toggle="collapse" href="#forms">
                  <i class="fas fa-pen-square"></i>
                  <p>Add new WorkOut</p>
                  <span class="caret"></span>
                </a>
                <div class="collapse" id="forms">
                  <ul class="nav nav-collapse">
                    <li>
                      <a href="addworkout">
                        <span class="sub-item">Add WorkOut</span>
                      </a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="nav-item">
                <a data-bs-toggle="collapse" href="#adduser">
                  <i class="fas fa-user"></i>
                  <p>Add new User</p>
                  <span class="caret"></span>
                </a>
                <div class="collapse" id="adduser">
                  <ul class="nav nav-collapse">
                    <li>
                      <a href="adduser">
                        <span class="sub-item">Add User</span>
                      </a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="nav-item">
                <a data-bs-toggle="collapse" href="#tables">
                  <i class="fas fa-table"></i>
                  <p>Tables</p>
                  <span class="caret"></span>
                </a>
                <div class="collapse" id="tables">
                  <ul class="nav nav-collapse">
                    <li>
                      <a href="data">
                        <span class="sub-item">Registered User</span>
                      </a>
                    </li>
                      <li>
                      <a href="workout_table">
                        <span class="sub-item">WorkOuts</span>
                      </a>
                    </li>
                    <li>
                    <a href="message">
                        <span class="sub-item">Contact Data</span>
                      </a>
                      </li>
                  </ul>
                </div>

              <li class="nav-item">
                 <a href="Admin/assets/img/documentation.pdf">
                  <i class="fas fa-file"></i>
                  <p>Documentation</p>
                  <span class="badge badge-secondary">1</span>
                </a>
              </li>
              <li class="nav-item">
                <div class="collapse" id="submenu">
                  <ul class="nav nav-collapse">  
                  </ul>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!-- End Sidebar -->

      <div class="main-panel">
        <div class="main-header">
          <div class="main-header-logo">
            <!-- Logo Header -->
            <div class="logo-header" data-background-color="dark">
              <a href="index" class="logo">
                <img
                  src="https://res.cloudinary.com/deup6t83x/image/upload/v1721236251/logo_pctu2u.png"
                  alt="navbar brand"
                  class="navbar-brand"
                />
              </a>
              <div class="nav-toggle">
                <button class="btn btn-toggle toggle-sidebar">
                  <i class="gg-menu-right"></i>
                </button>
                <button class="btn btn-toggle sidenav-toggler">
                  <i class="gg-menu-left"></i>
                </button>
              </div>
              <button class="topbar-toggler more">
                <i class="gg-more-vertical-alt"></i>
              </button>
            </div>
            <!-- End Logo Header -->
          </div>
          <!-- Navbar Header -->
          <nav
            class="navbar navbar-header navbar-header-transparent navbar-expand-lg border-bottom"
          >
            <div class="container-fluid">
              <nav
                class="navbar navbar-header-left navbar-expand-lg navbar-form nav-search p-0 d-none d-lg-flex"
              >
                
              </nav>

              <ul class="navbar-nav topbar-nav ms-md-auto align-items-center">
                
                <li class="nav-item topbar-icon dropdown hidden-caret">
                  <a
                    href="https://mail.google.com/mail/u/0/?tab=rm&ogbl#inbox " target="_blank"
                  >
                    <i class="fa fa-envelope"></i>
                  </a>
                  <li class="nav-item topbar-user dropdown hidden-caret">
                    <a
                      class="dropdown-toggle profile-pic"
                      data-bs-toggle="dropdown"
                      href="#"
                      aria-expanded="false"
                    >
                      <div class="avatar-sm">
                        <img
                          src="https://res.cloudinary.com/deup6t83x/image/upload/v1725000463/admin_pic_sencpk.webp"
                          alt="Profile Picture"
                          class="avatar-img rounded-circle"
                        />
                      </div>
                      <span class="profile-username">
                        <span class="fw-bold">Fit4Life</span>
                      </span>
                    </a>
                    <ul class="dropdown-menu dropdown-user animated fadeIn">
                      <li>
                        <a class="dropdown-item"  onclick="logout()" href="#">Logout</a>
                      </li>
                    </ul>
                  </li>

              </ul>
            </div>
          </nav>
          <!-- End Navbar -->
        </div>

   		 <div class="container">
           <div class="page-inner">
            <div
              class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4"
            >
            
            <div class="row">
              <div class="col-sm-6 col-md-6"> <!-- Changed from col-md-3 to col-md-4 -->
			    <div class="card card-stats card-round">
			        <div class="card-body">
			            <div class="row align-items-center justify-content-center"> <!-- Added justify-content-center -->
			                <div class="col-icon text-center"> <!-- Added text-center class -->
			                    <div class="icon-big text-center icon-primary bubble-shadow-small">
			                        <i class="fa-solid fa-person-running"></i>
			                    </div>
			                </div>
			                <div class="col col-stats ms-3 ms-sm-0 text-center"> <!-- Added text-center class -->
			                    <div class="numbers">
			                        <p class="card-category">WorkOuts</p>
			                        <h4 class="card-title" id="workoutCount">0</h4>
			                    </div>
			                </div>
			            </div>
			        </div>
			    </div>
			</div>
			
			
			<div class="col-sm-6 col-md-6"> <!-- Changed from col-md-3 to col-md-4 -->
			    <div class="card card-stats card-round">
			        <div class="card-body">
			            <div class="row align-items-center justify-content-center"> <!-- Added justify-content-center -->
			                <div class="col-icon text-center"> <!-- Added text-center class -->
			                    <div class="icon-big text-center icon-success bubble-shadow-small">
			                        <i class="fa-regular fa-message"></i>
			                    </div>
			                </div>
			                <div class="col col-stats ms-3 ms-sm-0 text-center"> <!-- Added text-center class -->
			                    <div class="numbers">
			                        <p class="card-category">Messages</p>
			                        <h4 class="card-title" id="messageCount">0</h4> <!-- Placeholder for message count -->
			                    </div>
			                </div>
			            </div>
			        </div>
			    </div>
			</div>
              
              <div class="card card-round">
                <div class="card-body pb-0">
                  <div class="pull-in sparkline-fix">
                    <!-- Image replacing the line chart -->
                    <img src="https://res.cloudinary.com/deup6t83x/image/upload/v1726600753/Admin%20banner.png" alt="Chart Image" class="chart-image">
                  </div>
                </div>
              </div>
              
              </div>
            </div>
            <div class="background-image">
              <div class="content">
                  <!-- Big Heading -->
                  <h1>Welcome to the Admin Dashboard</h1>
      
                  <!-- Paragraph for Admin -->
                  <p>
                      This is the admin section where you can manage all the administrative tasks of the website. 
                      From here, you can monitor user activities, users, manage content, and ensure everything is running smoothly.
                  </p>
              </div>
          </div>
            
            </div>
           
        <footer class="footer">
          <div class="container-fluid d-flex justify-content-between">
            
            <div class="copyright">
              &copy; All Rights Reserved by
              <a href="#">Fit4life</a>
            </div>
            <div>
              Developed by
              <a target="_blank" href="#">Health Heros</a>.
            </div>
          </div>
        </footer>
      </div>
    <!--   Core JS Files   -->
    <script src="Admin/assets/js/core/jquery-3.7.1.min.js"></script>
    <script src="Admin/assets/js/core/popper.min.js"></script>
    <script src="Admin/assets/js/core/bootstrap.min.js"></script>

    <!-- jQuery Scrollbar -->
    <script src="Admin/assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>

    <!-- Chart JS -->
    <script src="Admin/assets/js/plugin/chart.js/chart.min.js"></script>

    <!-- jQuery Sparkline -->
    <script src="Admin/assets/js/plugin/jquery.sparkline/jquery.sparkline.min.js"></script>

    <!-- Chart Circle -->
    <script src="Admin/assets/js/plugin/chart-circle/circles.min.js"></script>

    <!-- Datatables -->
    <script src="Admin/assets/js/plugin/datatables/datatables.min.js"></script>

    <!-- Bootstrap Notify -->
    <script src="Admin/assets/js/plugin/bootstrap-notify/bootstrap-notify.min.js"></script>

    <!-- jQuery Vector Maps -->
    <script src="Admin/assets/js/plugin/jsvectormap/jsvectormap.min.js"></script>
    <script src="Admin/assets/js/plugin/jsvectormap/world.js"></script>

    <!-- Sweet Alert -->
    <script src="Admin/assets/js/plugin/sweetalert/sweetalert.min.js"></script>

    <!-- Kaiadmin JS -->
    <script src="Admin/assets/js/kaiadmin.min.js"></script>
    
    <!-- Logout Script -->
    <script>
    function logout() {
        localStorage.removeItem('authToken'); 
        window.location.href = 'index'; 
    }
</script>
<script>
// Function to fetch workout count from the server
function fetchWorkoutCount() {
    fetch('/workouts/count')
        .then(response => response.json())
        .then(count => {
            document.getElementById('workoutCount').innerText = count;
        })
        .catch(error => console.error('Error fetching workout count:', error));
}

// Function to fetch message count from the server
function fetchMessageCount() {
    fetch('/api/messages/count') // Ensure this matches the controller endpoint
        .then(response => response.json())
        .then(count => {
            document.getElementById('messageCount').innerText = count; // Update the message count display
        })
        .catch(error => console.error('Error fetching message count:', error));
}

// Add event listeners for the page load
window.addEventListener('load', fetchWorkoutCount);
window.addEventListener('load', fetchMessageCount);
</script>
</body>
</html>
